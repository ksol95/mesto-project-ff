(()=>{"use strict";var e=function(e){e.target.closest(".card").remove()},t=function(e){e.target.classList.toggle("card__like-button_is-active")};function n(n,r,o,c){var p=n.querySelector(".card").cloneNode(!0);return p.querySelector(".card__image").src=r,p.querySelector(".card__image").setAttribute("alt",o),p.querySelector(".card__image").addEventListener("click",c),p.querySelector(".card__title").textContent=o,p.querySelector(".card__delete-button").addEventListener("click",e),p.querySelector(".card__like-button").addEventListener("click",t),p}var r=document.querySelectorAll(".popup"),o=function(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",p)},c=function(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",p)},p=function(e){"Escape"===e.key&&o(document.querySelector(".popup_is-opened"))},a=document.querySelector("#card-template").content,u=document.querySelector(".places__list"),i=document.querySelector(".profile__title"),d=document.querySelector(".profile__description"),l=document.querySelector(".profile__edit-button"),s=document.querySelector(".popup_type_edit"),_=document.querySelector(".popup__form[name='editProfile']"),m=_.querySelector(".popup__input_type_name"),y=_.querySelector(".popup__input_type_description"),f=document.querySelector(".profile__add-button"),v=document.querySelector(".popup_type_new-card"),k=document.querySelector(".popup__form[name='new-place']"),q=k.querySelector(".popup__input[name='place-name']"),g=k.querySelector(".popup__input[name='link']"),S=document.querySelector(".popup_type_image"),b=S.querySelector(".popup__image"),x=S.querySelector(".popup__caption"),L=function(e){b.src=e.target.getAttribute("src"),b.alt=e.target.getAttribute("alt"),b.title=e.target.getAttribute("alt"),x.textContent=e.target.getAttribute("alt"),c(S)};r.forEach((function(e){e.classList.add("popup_is-animated"),e.querySelector(".popup__close").addEventListener("click",(function(){o(e)})),e.addEventListener("click",(function(t){t.target.classList.contains("popup_is-opened")&&o(e)}))})),[{name:"Тольятти",link:"https://images.unsplash.com/photo-1602529080346-47d4c76dad5d?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){u.append(n(a,e.link,e.name,L))})),f.addEventListener("click",(function(){c(v)})),k.addEventListener("submit",(function(e){e.preventDefault(),u.prepend(n(a,g.value,q.value,L)),o(v),e.target.reset()})),l.addEventListener("click",(function(){m.value=i.textContent,y.value=d.textContent,c(s)})),_.addEventListener("submit",(function(e){e.preventDefault(),d.textContent=y.value,i.textContent=m.value,o(s)}))})();